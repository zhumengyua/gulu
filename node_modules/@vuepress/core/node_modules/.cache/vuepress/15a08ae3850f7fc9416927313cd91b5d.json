{"remainingRequest":"C:\\Users\\WQW\\Desktop\\ee\\gulu\\node_modules\\@vuepress\\core\\node_modules\\babel-loader\\lib\\index.js??ref--3-1!C:\\Users\\WQW\\Desktop\\ee\\gulu\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!C:\\Users\\WQW\\Desktop\\ee\\gulu\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!C:\\Users\\WQW\\Desktop\\ee\\gulu\\src\\toast.vue?vue&type=script&lang=js&","dependencies":[{"path":"C:\\Users\\WQW\\Desktop\\ee\\gulu\\src\\toast.vue","mtime":1565966864237},{"path":"C:\\Users\\WQW\\Desktop\\ee\\gulu\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1565093799223},{"path":"C:\\Users\\WQW\\Desktop\\ee\\gulu\\node_modules\\@vuepress\\core\\node_modules\\babel-loader\\lib\\index.js","mtime":1565093797927},{"path":"C:\\Users\\WQW\\Desktop\\ee\\gulu\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1565093799223},{"path":"C:\\Users\\WQW\\Desktop\\ee\\gulu\\node_modules\\vue-loader\\lib\\index.js","mtime":1565093800583}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICJDOlxcVXNlcnNcXFdRV1xcRGVza3RvcFxcZWVcXGd1bHVcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lLWNvcmVqczIvaGVscGVycy9lc20vZGVmaW5lUHJvcGVydHkiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lczYuYXJyYXkuaW5kZXgtb2YiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lczYubnVtYmVyLmNvbnN0cnVjdG9yIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8gaW1wb3J0IHsgcmVsYXRpdmUgfSBmcm9tICdwYXRoJzsKLy/mnoTpgKDnu4Tku7bnmoTpgInpobkKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdHdWx1VG9hc3QnLAogIHByb3BzOiB7CiAgICBhdXRvQ2xvc2U6IHsKICAgICAgdHlwZTogW0Jvb2xlYW4sIE51bWJlcl0sCiAgICAgIGRlZmF1bHQ6IDEwLAogICAgICB2YWxpZGF0b3I6IGZ1bmN0aW9uIHZhbGlkYXRvcih2YWx1ZSkgewogICAgICAgIHJldHVybiB2YWx1ZSA9PT0gZmFsc2UgfHwgdHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJzsKICAgICAgfQogICAgfSwKICAgIGNsb3NlQnV0dG9uOiB7CiAgICAgIHR5cGU6IE9iamVjdCwKICAgICAgLy/lr7nosaHnmoTlgLzlj6rog73nlKjlh73mlbByZXR1cm4s6L+Z5piv57uE5Lu255qE5aSN55So5oCn6Zeu6aKYCiAgICAgIGRlZmF1bHQ6IGZ1bmN0aW9uIF9kZWZhdWx0KCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICB0ZXh0OiAn5YWz6ZetJywKICAgICAgICAgIGNhbGxiYWNrOiB1bmRlZmluZWQKICAgICAgICB9OwogICAgICB9CiAgICB9LAogICAgZW5hYmxlSHRtbDogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfSwKICAgIHBvc2l0aW9uOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJ3RvcCcsCiAgICAgIHZhbGlkYXRvcjogZnVuY3Rpb24gdmFsaWRhdG9yKHZhbHVlKSB7CiAgICAgICAgcmV0dXJuIFsndG9wJywgJ2JvdHRvbScsICdtaWRkbGUnXS5pbmRleE9mKHZhbHVlKSA+PSAwOwogICAgICB9CiAgICB9CiAgfSwKICAvLyBjcmVhdGVkKCl7CiAgLy8gICBjb25zb2xlLmxvZyh0aGlzLmNsb3NlQnV0dG9uKQogIC8vIH0s5rWL6K+VZGVidWfnlKjnmoQKICBjb21wdXRlZDogewogICAgdG9hc3RDbGFzc2VzOiBmdW5jdGlvbiB0b2FzdENsYXNzZXMoKSB7CiAgICAgIHJldHVybiBfZGVmaW5lUHJvcGVydHkoe30sICJwb3NpdGlvbi0iLmNvbmNhdCh0aGlzLnBvc2l0aW9uKSwgdHJ1ZSk7CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy51cGRhdGVTdHlsZXMoKTsKICAgIHRoaXMuZXhlY0F1dG9DbG9zZSgpOwogIH0sCiAgbWV0aG9kczogewogICAgdXBkYXRlU3R5bGVzOiBmdW5jdGlvbiB1cGRhdGVTdHlsZXMoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMuJHJlZnMubGluZS5zdHlsZS5oZWlnaHQgPSAiIi5jb25jYXQoX3RoaXMuJHJlZnMudG9hc3QuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0LCAicHgiKTsKICAgICAgfSk7CiAgICB9LAogICAgZXhlY0F1dG9DbG9zZTogZnVuY3Rpb24gZXhlY0F1dG9DbG9zZSgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICBpZiAodGhpcy5hdXRvQ2xvc2UpIHsKICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgIF90aGlzMi5jbG9zZSgpOwogICAgICAgIH0sIHRoaXMuYXV0b0Nsb3NlICogMTAwMCk7CiAgICAgIH0KICAgIH0sCiAgICBjbG9zZTogZnVuY3Rpb24gY2xvc2UoKSB7CiAgICAgIHRoaXMuJGVsLnJlbW92ZSgpOyAvL+WFg+e0oOenu+mZpAoKICAgICAgdGhpcy4kZW1pdCgnY2xvc2UnKTsKICAgICAgdGhpcy4kZGVzdHJveSgpOyAvL+e7hOS7tuiHquavgQogICAgfSwKICAgIG9uQ2xpY2tDbG9zZTogZnVuY3Rpb24gb25DbGlja0Nsb3NlKCkgewogICAgICB0aGlzLmNsb3NlKCk7CgogICAgICBpZiAodGhpcy5jbG9zZUJ1dHRvbiAmJiB0eXBlb2YgdGhpcy5jbG9zZUJ1dHRvbi5jYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykgewogICAgICAgIHRoaXMuY2xvc2VCdXR0b24uY2FsbGJhY2soKTsgLy90aGlzID09PSB0b2FzdCDlrp7kvosKICAgICAgfQogICAgfQogIH0KfTs="},{"version":3,"sources":["toast.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAeA;AACA;AACA,eAAA;AACA,EAAA,IAAA,EAAA,WADA;AAEA,EAAA,KAAA,EAAA;AACA,IAAA,SAAA,EAAA;AACA,MAAA,IAAA,EAAA,CAAA,OAAA,EAAA,MAAA,CADA;AAEA,MAAA,OAAA,EAAA,EAFA;AAGA,MAAA,SAHA,qBAGA,KAHA,EAGA;AACA,eAAA,KAAA,KAAA,KAAA,IAAA,OAAA,KAAA,KAAA,QAAA;AACA;AALA,KADA;AAQA,IAAA,WAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AACA;AACA,MAAA,OAFA,sBAEA;AACA,eAAA;AACA,UAAA,IAAA,EAAA,IADA;AAEA,UAAA,QAAA,EAAA;AAFA,SAAA;AAIA;AAPA,KARA;AAiBA,IAAA,UAAA,EAAA;AACA,MAAA,IAAA,EAAA,OADA;AAEA,MAAA,OAAA,EAAA;AAFA,KAjBA;AAqBA,IAAA,QAAA,EAAA;AACA,MAAA,IAAA,EAAA,MADA;AAEA,MAAA,OAAA,EAAA,KAFA;AAGA,MAAA,SAHA,qBAGA,KAHA,EAGA;AACA,eAAA,CAAA,KAAA,EAAA,QAAA,EAAA,QAAA,EAAA,OAAA,CAAA,KAAA,KAAA,CAAA;AACA;AALA;AArBA,GAFA;AA+BA;AACA;AACA;AACA,EAAA,QAAA,EAAA;AACA,IAAA,YADA,0BACA;AACA,oDACA,KAAA,QADA,GACA,IADA;AAGA;AALA,GAlCA;AAyCA,EAAA,OAzCA,qBAyCA;AACA,SAAA,YAAA;AACA,SAAA,aAAA;AACA,GA5CA;AA6CA,EAAA,OAAA,EAAA;AACA,IAAA,YADA,0BACA;AAAA;;AACA,WAAA,SAAA,CAAA,YAAA;AACA,QAAA,KAAA,CAAA,KAAA,CAAA,IAAA,CAAA,KAAA,CAAA,MAAA,aACA,KAAA,CAAA,KAAA,CAAA,KAAA,CAAA,qBAAA,GAAA,MADA;AAEA,OAHA;AAIA,KANA;AAOA,IAAA,aAPA,2BAOA;AAAA;;AACA,UAAA,KAAA,SAAA,EAAA;AACA,QAAA,UAAA,CAAA,YAAA;AACA,UAAA,MAAA,CAAA,KAAA;AACA,SAFA,EAEA,KAAA,SAAA,GAAA,IAFA,CAAA;AAGA;AACA,KAbA;AAcA,IAAA,KAdA,mBAcA;AACA,WAAA,GAAA,CAAA,MAAA,GADA,CACA;;AACA,WAAA,KAAA,CAAA,OAAA;AACA,WAAA,QAAA,GAHA,CAGA;AACA,KAlBA;AAmBA,IAAA,YAnBA,0BAmBA;AACA,WAAA,KAAA;;AACA,UAAA,KAAA,WAAA,IAAA,OAAA,KAAA,WAAA,CAAA,QAAA,KAAA,UAAA,EAAA;AACA,aAAA,WAAA,CAAA,QAAA,GADA,CACA;AACA;AACA;AAxBA;AA7CA,CAAA","sourcesContent":["<template>\r\n    <div class=\"toast-wrapper\" :class=\"toastClasses\">\r\n      <div class=\"toast\" ref=\"toast\">\r\n        <div class=\"message\">\r\n          <slot v-if=\"!enableHtml\"></slot>\r\n          <div v-else v-html=\"$slots.default[0]\"></div>\r\n        </div>\r\n        <span class=\"line\" ref=\"line\"></span>\r\n        <span class=\"close\" v-if=\"closeButton\" @click=\"onClickClose\">\r\n          {{closeButton.text}}\r\n        </span>\r\n      </div>\r\n    </div>\r\n</template>\r\n<script>\r\n// import { relative } from 'path';\r\n  //构造组件的选项\r\nexport default {\r\n    name: 'GuluToast',\r\n    props: {\r\n      autoClose: {\r\n        type: [Boolean, Number],\r\n        default: 10,\r\n        validator (value) {\r\n          return value === false || typeof value === 'number'\r\n        }\r\n      },\r\n      closeButton:{\r\n        type: Object, //对象的值只能用函数return,这是组件的复用性问题\r\n        default(){\r\n          return {\r\n          text: '关闭',\r\n          callback: undefined,\r\n          }\r\n        }\r\n      },\r\n      enableHtml: {\r\n        type: Boolean,\r\n        default: false\r\n      },\r\n      position: {\r\n        type: String,\r\n        default: 'top',\r\n        validator (value) {\r\n          return ['top', 'bottom', 'middle'].indexOf(value) >= 0\r\n        }\r\n      }\r\n    }, \r\n    // created(){\r\n    //   console.log(this.closeButton)\r\n    // },测试debug用的\r\n    computed: {\r\n      toastClasses () {\r\n        return {\r\n          [`position-${this.position}`]: true\r\n        }\r\n      }\r\n    },\r\n    mounted(){\r\n      this.updateStyles()\r\n      this.execAutoClose()\r\n    },\r\n    methods:{\r\n      updateStyles(){\r\n        this.$nextTick(() => {\r\n          this.$refs.line.style.height =\r\n            `${this.$refs.toast.getBoundingClientRect().height}px`\r\n        })\r\n      },\r\n      execAutoClose () {\r\n        if (this.autoClose) {\r\n          setTimeout(() => {\r\n            this.close()\r\n          }, this.autoClose * 1000)\r\n        }\r\n      },\r\n      close(){\r\n        this.$el.remove() //元素移除\r\n        this.$emit('close')\r\n        this.$destroy() //组件自毁\r\n      },\r\n      onClickClose(){\r\n        this.close()\r\n        if(this.closeButton && typeof this.closeButton.callback === 'function'){\r\n          this.closeButton.callback() //this === toast 实例\r\n        }\r\n      }\r\n    }\r\n  }\r\n</script>\r\n<style scoped lang=\"less\">\r\n  @font-size: 14px;\r\n  @toast-min-height: 40px;\r\n  @toast-bg: rgba(0, 0, 0, 0.75);\r\n  @toast-duration: .45s;\r\n  .toast-wrapper{\r\n    position: absolute; left: 50%;\r\n    transform: translateX(-50%);\r\n    &.position-top {\r\n      z-index: 99;\r\n      top: 0;\r\n      .toast {\r\n        border-top-left-radius: 0;\r\n        border-top-right-radius: 0;\r\n        animation: fade-down @toast-duration;\r\n      }\r\n    }\r\n    &.position-bottom {\r\n      bottom: 0;\r\n      .toast {\r\n        border-bottom-left-radius: 0;\r\n        border-bottom-right-radius: 0;\r\n        animation: fade-up @toast-duration;\r\n      }\r\n    }\r\n    &.position-middle {\r\n      top: 50%;\r\n      transform: translateX(-50%) translateY(-50%);\r\n    }\r\n  }\r\n  .toast {\r\n    animation: fade-in @toast-duration;\r\n    min-height: @toast-min-height; font-size: @font-size;\r\n    display: flex; align-items:center;justify-content: center; background: @toast-bg; border-radius: 4px;\r\n    box-shadow: 0 0 3px 0 rgba(0,0,0,0.5); padding: 0 16px; color:white;\r\n    line-height: 1.8;\r\n    .message {\r\n      padding: 8px 0;\r\n    }\r\n    .close {\r\n      padding-left: 16px;\r\n      flex-shrink: 0;\r\n    }\r\n    .line{\r\n      height: 100%;\r\n      border-left: 1px solid #666;\r\n      margin-left: 16px;\r\n    }\r\n  }\r\n  @keyframes fade-up {\r\n    0%{opacity: 0; transform: translateY(100%)}\r\n    100%{opacity: 1;transform: translateY(0)}\r\n  }\r\n  @keyframes fade-down {\r\n    0%{opacity: 0; transform: translateY(-100%)}\r\n    100%{opacity: 1;transform: translateY(0)}\r\n  }\r\n  @keyframes fade-in {\r\n    0%{opacity: 0; }\r\n    100%{opacity: 1;}\r\n  }\r\n</style>\r\n\r\n"],"sourceRoot":"src"}]}