{"remainingRequest":"E:\\localgit\\gulu\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\localgit\\gulu\\src\\toast.vue?vue&type=style&index=0&id=6a4f6ab6&scoped=true&lang=less&","dependencies":[{"path":"E:\\localgit\\gulu\\src\\toast.vue","mtime":1565450490727},{"path":"E:\\localgit\\gulu\\node_modules\\css-loader\\dist\\cjs.js","mtime":1565093800203},{"path":"E:\\localgit\\gulu\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1565093800583},{"path":"E:\\localgit\\gulu\\node_modules\\postcss-loader\\src\\index.js","mtime":1565093800257},{"path":"E:\\localgit\\gulu\\node_modules\\less-loader\\dist\\cjs.js","mtime":1564839044307},{"path":"E:\\localgit\\gulu\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1565093799223},{"path":"E:\\localgit\\gulu\\node_modules\\vue-loader\\lib\\index.js","mtime":1565093800583}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCkBmb250LXNpemU6IDE0cHg7CkB0b2FzdC1taW4taGVpZ2h0OiA0MHB4OwpAdG9hc3QtYmc6IHJnYmEoMCwgMCwgMCwgMC43NSk7CkBrZXlmcmFtZXMgc2xpZGUtdXAgewogIDAlIHtvcGFjaXR5OiAwOyB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoMTAwJSk7fQogIDEwMCUge29wYWNpdHk6IDE7dHJhbnNmb3JtOiB0cmFuc2xhdGVZKDAlKTt9Cn0KQGtleWZyYW1lcyBzbGlkZS1kb3duIHsKICAwJSB7b3BhY2l0eTogMDsgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC0xMDAlKTt9CiAgMTAwJSB7b3BhY2l0eTogMTt0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoMCUpO30KfQpAa2V5ZnJhbWVzIGZhZGUtaW4gewogIDAlIHtvcGFjaXR5OiAwOyB9CiAgMTAwJSB7b3BhY2l0eTogMTt9Cn0KLndyYXBwZXIgewogIHBvc2l0aW9uOiBmaXhlZDsKICBsZWZ0OiA1MCU7CiAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKC01MCUpOwogIEBhbmltYXRpb24tZHVyYXRpb246IDMwMG1zOwogICYucG9zaXRpb24tdG9wIHsKICAgIHRvcDogMDsKICAgIC50b2FzdCB7CiAgICAgIGJvcmRlci10b3AtbGVmdC1yYWRpdXM6IDA7CiAgICAgIGJvcmRlci10b3AtcmlnaHQtcmFkaXVzOiAwOwogICAgICBhbmltYXRpb246IHNsaWRlLWRvd24gQGFuaW1hdGlvbi1kdXJhdGlvbjsKICAgIH0KICB9CiAgJi5wb3NpdGlvbi1ib3R0b20gewogICAgYm90dG9tOiAwOwogICAgLnRvYXN0IHsKICAgICAgYm9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czogMDsKICAgICAgYm9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXM6IDA7CiAgICAgIGFuaW1hdGlvbjogc2xpZGUtdXAgQGFuaW1hdGlvbi1kdXJhdGlvbjsKICAgIH0KICB9CiAgJi5wb3NpdGlvbi1taWRkbGUgewogICAgdG9wOiA1MCU7CiAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoLTUwJSkgdHJhbnNsYXRlWSgtNTAlKTsKICAgIC50b2FzdCB7CiAgICAgIGFuaW1hdGlvbjogZmFkZS1pbiBAYW5pbWF0aW9uLWR1cmF0aW9uOwogICAgfQogIH0KfQoudG9hc3QgewogIGFuaW1hdGlvbjogZmFkZS1pbiAxczsKICBmb250LXNpemU6IEBmb250LXNpemU7IG1pbi1oZWlnaHQ6IEB0b2FzdC1taW4taGVpZ2h0OyBsaW5lLWhlaWdodDogMS44OwogIGRpc3BsYXk6IGZsZXg7CiAgY29sb3I6IHdoaXRlOyBhbGlnbi1pdGVtczogY2VudGVyOyBiYWNrZ3JvdW5kOiBAdG9hc3QtYmc7IGJvcmRlci1yYWRpdXM6IDRweDsKICBib3gtc2hhZG93OiAwIDAgM3B4IDAgcmdiYSgwLCAwLCAwLCAwLjUwKTsgcGFkZGluZzogMCAxNnB4OwoKICAubWVzc2FnZSB7CiAgcGFkZGluZzogOHB4IDA7CiAgfQogIC5jbG9zZSB7CiAgcGFkZGluZy1sZWZ0OiAxNnB4OwogIGZsZXgtc2hyaW5rOiAwOwogIH0KICAubGluZXsKICBoZWlnaHQ6IDEwMCU7CiAgYm9yZGVyLWxlZnQ6IDFweCBzb2xpZCAjNjY2OwogIG1hcmdpbi1sZWZ0OiAxNnB4OwogIH0KICAKfQo="},{"version":3,"sources":["toast.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA","file":"toast.vue","sourceRoot":"src","sourcesContent":["<template>\r\n    <div ref=\"wrapper\" :class=\"toastClasses\">\r\n      <div class=\"toast\" ref=\"toast\">\r\n        <div class=\"message\">\r\n          <slot v-if=\"!enableHtml\"></slot>\r\n          <div v-else v-html=\"$slots.default[0]\"></div>\r\n        </div>\r\n        <div class=\"line\" ref=\"line\"></div>\r\n        <span class=\"close\" v-if=\"closeButton\" @click=\"onClickClose\">\r\n          {{closeButton.text}}\r\n        </span>\r\n      </div>\r\n    </div>\r\n</template>\r\n<script>\r\nimport { relative } from 'path';\r\n  //构造组件的选项\r\nexport default {\r\n    name: 'GuluToast',\r\n    props: {\r\n      autoClose: {\r\n        type: [Boolean, Number],\r\n        default: 5,\r\n        validator (value) {\r\n          return value === false || typeof value === 'number';\r\n        }\r\n      },\r\n      position: {\r\n        type: String,\r\n        default: 'top',\r\n        validator (value) {\r\n          return ['top', 'bottom', 'middle'].indexOf(value) >= 0\r\n        }\r\n      },\r\n      autoCloseDelay:{\r\n        type: Number,\r\n        default: 50\r\n      },\r\n      closeButton:{\r\n        type: Object, //对象的值只能用函数return,这是组件的复用性问题\r\n        default: () => {\r\n          return {\r\n          text: '关闭',callback: undefined\r\n          }\r\n        }\r\n      },\r\n      enableHtml: {\r\n        type: Boolean,\r\n        default: false\r\n      }\r\n    },\r\n    // created(){\r\n    //   console.log(this.closeButton)\r\n    // },测试debug用的\r\n    mounted(){\r\n      this.updateStyles()\r\n      this.execAutoClose()\r\n    },\r\n    computed: {\r\n      toastClasses () {\r\n        return {\r\n          [`positing-${this.position}`]: true\r\n        }\r\n      }\r\n    },\r\n    methods:{\r\n      updateStyles(){\r\n        this.$nextTick(() => {\r\n          this.$refs.line.style.height =\r\n            `${this.$refs.toast.getBoundingClientRect().height}px`\r\n        })\r\n      },\r\n      execAutoClose () {\r\n        if (this.autoClose) {\r\n          setTimeout(() => {\r\n            this.close()\r\n          }, this.autoClose * 1000)\r\n        }\r\n      },\r\n      close(){\r\n        this.$el.remove() //元素移除\r\n        this.$emit('close')\r\n        this.$destroy() //组件自毁\r\n      },\r\n      onClickClose(){\r\n        this.close()\r\n        if(this.closeButton && typeof this.closeButton.callback === 'function'){\r\n          this.closeButton.callback(this) //this === toast 实例\r\n        }\r\n      }\r\n    }\r\n}\r\n</script>\r\n<style scoped lang=\"less\">\r\n  @font-size: 14px;\r\n  @toast-min-height: 40px;\r\n  @toast-bg: rgba(0, 0, 0, 0.75);\r\n  @keyframes slide-up {\r\n    0% {opacity: 0; transform: translateY(100%);}\r\n    100% {opacity: 1;transform: translateY(0%);}\r\n  }\r\n  @keyframes slide-down {\r\n    0% {opacity: 0; transform: translateY(-100%);}\r\n    100% {opacity: 1;transform: translateY(0%);}\r\n  }\r\n  @keyframes fade-in {\r\n    0% {opacity: 0; }\r\n    100% {opacity: 1;}\r\n  }\r\n  .wrapper {\r\n    position: fixed;\r\n    left: 50%;\r\n    transform: translateX(-50%);\r\n    @animation-duration: 300ms;\r\n    &.position-top {\r\n      top: 0;\r\n      .toast {\r\n        border-top-left-radius: 0;\r\n        border-top-right-radius: 0;\r\n        animation: slide-down @animation-duration;\r\n      }\r\n    }\r\n    &.position-bottom {\r\n      bottom: 0;\r\n      .toast {\r\n        border-bottom-left-radius: 0;\r\n        border-bottom-right-radius: 0;\r\n        animation: slide-up @animation-duration;\r\n      }\r\n    }\r\n    &.position-middle {\r\n      top: 50%;\r\n      transform: translateX(-50%) translateY(-50%);\r\n      .toast {\r\n        animation: fade-in @animation-duration;\r\n      }\r\n    }\r\n  }\r\n  .toast {\r\n    animation: fade-in 1s;\r\n    font-size: @font-size; min-height: @toast-min-height; line-height: 1.8;\r\n    display: flex;\r\n    color: white; align-items: center; background: @toast-bg; border-radius: 4px;\r\n    box-shadow: 0 0 3px 0 rgba(0, 0, 0, 0.50); padding: 0 16px;\r\n\r\n    .message {\r\n    padding: 8px 0;\r\n    }\r\n    .close {\r\n    padding-left: 16px;\r\n    flex-shrink: 0;\r\n    }\r\n    .line{\r\n    height: 100%;\r\n    border-left: 1px solid #666;\r\n    margin-left: 16px;\r\n    }\r\n    \r\n  }\r\n</style>\r\n\r\n"]}]}