{"remainingRequest":"E:\\localgit\\gulu\\node_modules\\@vuepress\\core\\node_modules\\babel-loader\\lib\\index.js??ref--3-1!E:\\localgit\\gulu\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\localgit\\gulu\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\localgit\\gulu\\src\\toast.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\localgit\\gulu\\src\\toast.vue","mtime":1565966864237},{"path":"E:\\localgit\\gulu\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1565093799223},{"path":"E:\\localgit\\gulu\\node_modules\\@vuepress\\core\\node_modules\\babel-loader\\lib\\index.js","mtime":1565093797927},{"path":"E:\\localgit\\gulu\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1565093799223},{"path":"E:\\localgit\\gulu\\node_modules\\vue-loader\\lib\\index.js","mtime":1565093800583}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IF9kZWZpbmVQcm9wZXJ0eSBmcm9tICJFOlxcbG9jYWxnaXRcXGd1bHVcXG5vZGVfbW9kdWxlc1xcQGJhYmVsXFxydW50aW1lLWNvcmVqczIvaGVscGVycy9lc20vZGVmaW5lUHJvcGVydHkiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lczYuYXJyYXkuaW5kZXgtb2YiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lczYubnVtYmVyLmNvbnN0cnVjdG9yIjsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8gaW1wb3J0IHsgcmVsYXRpdmUgfSBmcm9tICdwYXRoJzsKLy/mnoTpgKDnu4Tku7bnmoTpgInpobkKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdHdWx1VG9hc3QnLAogIHByb3BzOiB7CiAgICBhdXRvQ2xvc2U6IHsKICAgICAgdHlwZTogW0Jvb2xlYW4sIE51bWJlcl0sCiAgICAgIGRlZmF1bHQ6IDEwLAogICAgICB2YWxpZGF0b3I6IGZ1bmN0aW9uIHZhbGlkYXRvcih2YWx1ZSkgewogICAgICAgIHJldHVybiB2YWx1ZSA9PT0gZmFsc2UgfHwgdHlwZW9mIHZhbHVlID09PSAnbnVtYmVyJzsKICAgICAgfQogICAgfSwKICAgIGNsb3NlQnV0dG9uOiB7CiAgICAgIHR5cGU6IE9iamVjdCwKICAgICAgLy/lr7nosaHnmoTlgLzlj6rog73nlKjlh73mlbByZXR1cm4s6L+Z5piv57uE5Lu255qE5aSN55So5oCn6Zeu6aKYCiAgICAgIGRlZmF1bHQ6IGZ1bmN0aW9uIF9kZWZhdWx0KCkgewogICAgICAgIHJldHVybiB7CiAgICAgICAgICB0ZXh0OiAn5YWz6ZetJywKICAgICAgICAgIGNhbGxiYWNrOiB1bmRlZmluZWQKICAgICAgICB9OwogICAgICB9CiAgICB9LAogICAgZW5hYmxlSHRtbDogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfSwKICAgIHBvc2l0aW9uOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogJ3RvcCcsCiAgICAgIHZhbGlkYXRvcjogZnVuY3Rpb24gdmFsaWRhdG9yKHZhbHVlKSB7CiAgICAgICAgcmV0dXJuIFsndG9wJywgJ2JvdHRvbScsICdtaWRkbGUnXS5pbmRleE9mKHZhbHVlKSA+PSAwOwogICAgICB9CiAgICB9CiAgfSwKICAvLyBjcmVhdGVkKCl7CiAgLy8gICBjb25zb2xlLmxvZyh0aGlzLmNsb3NlQnV0dG9uKQogIC8vIH0s5rWL6K+VZGVidWfnlKjnmoQKICBjb21wdXRlZDogewogICAgdG9hc3RDbGFzc2VzOiBmdW5jdGlvbiB0b2FzdENsYXNzZXMoKSB7CiAgICAgIHJldHVybiBfZGVmaW5lUHJvcGVydHkoe30sICJwb3NpdGlvbi0iLmNvbmNhdCh0aGlzLnBvc2l0aW9uKSwgdHJ1ZSk7CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdGhpcy51cGRhdGVTdHlsZXMoKTsKICAgIHRoaXMuZXhlY0F1dG9DbG9zZSgpOwogIH0sCiAgbWV0aG9kczogewogICAgdXBkYXRlU3R5bGVzOiBmdW5jdGlvbiB1cGRhdGVTdHlsZXMoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMuJHJlZnMubGluZS5zdHlsZS5oZWlnaHQgPSAiIi5jb25jYXQoX3RoaXMuJHJlZnMudG9hc3QuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0LCAicHgiKTsKICAgICAgfSk7CiAgICB9LAogICAgZXhlY0F1dG9DbG9zZTogZnVuY3Rpb24gZXhlY0F1dG9DbG9zZSgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICBpZiAodGhpcy5hdXRvQ2xvc2UpIHsKICAgICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICAgIF90aGlzMi5jbG9zZSgpOwogICAgICAgIH0sIHRoaXMuYXV0b0Nsb3NlICogMTAwMCk7CiAgICAgIH0KICAgIH0sCiAgICBjbG9zZTogZnVuY3Rpb24gY2xvc2UoKSB7CiAgICAgIHRoaXMuJGVsLnJlbW92ZSgpOyAvL+WFg+e0oOenu+mZpAoKICAgICAgdGhpcy4kZW1pdCgnY2xvc2UnKTsKICAgICAgdGhpcy4kZGVzdHJveSgpOyAvL+e7hOS7tuiHquavgQogICAgfSwKICAgIG9uQ2xpY2tDbG9zZTogZnVuY3Rpb24gb25DbGlja0Nsb3NlKCkgewogICAgICB0aGlzLmNsb3NlKCk7CgogICAgICBpZiAodGhpcy5jbG9zZUJ1dHRvbiAmJiB0eXBlb2YgdGhpcy5jbG9zZUJ1dHRvbi5jYWxsYmFjayA9PT0gJ2Z1bmN0aW9uJykgewogICAgICAgIHRoaXMuY2xvc2VCdXR0b24uY2FsbGJhY2soKTsgLy90aGlzID09PSB0b2FzdCDlrp7kvosKICAgICAgfQogICAgfQogIH0KfTs="},{"version":3,"sources":["E:\\localgit\\gulu\\src\\toast.vue"],"names":["name","props","autoClose","type","Boolean","Number","default","validator","value","closeButton","Object","text","callback","undefined","enableHtml","position","String","indexOf","computed","toastClasses","mounted","updateStyles","execAutoClose","methods","$nextTick","$refs","line","style","height","toast","getBoundingClientRect","setTimeout","close","$el","remove","$emit","$destroy","onClickClose"],"mappings":";;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACE;AACF,eAAe;AACXA,EAAAA,IAAI,EAAE,WADK;AAEXC,EAAAA,KAAK,EAAE;AACLC,IAAAA,SAAS,EAAE;AACTC,MAAAA,IAAI,EAAE,CAACC,OAAD,EAAUC,MAAV,CADG;AAETC,MAAAA,OAAO,EAAE,EAFA;AAGTC,MAAAA,SAHS,qBAGEC,KAHF,EAGS;AAChB,eAAOA,KAAK,KAAK,KAAV,IAAmB,OAAOA,KAAP,KAAiB,QAA3C;AACD;AALQ,KADN;AAQLC,IAAAA,WAAW,EAAC;AACVN,MAAAA,IAAI,EAAEO,MADI;AACI;AACdJ,MAAAA,OAFU,sBAED;AACP,eAAO;AACPK,UAAAA,IAAI,EAAE,IADC;AAEPC,UAAAA,QAAQ,EAAEC;AAFH,SAAP;AAID;AAPS,KARP;AAiBLC,IAAAA,UAAU,EAAE;AACVX,MAAAA,IAAI,EAAEC,OADI;AAEVE,MAAAA,OAAO,EAAE;AAFC,KAjBP;AAqBLS,IAAAA,QAAQ,EAAE;AACRZ,MAAAA,IAAI,EAAEa,MADE;AAERV,MAAAA,OAAO,EAAE,KAFD;AAGRC,MAAAA,SAHQ,qBAGGC,KAHH,EAGU;AAChB,eAAO,CAAC,KAAD,EAAQ,QAAR,EAAkB,QAAlB,EAA4BS,OAA5B,CAAoCT,KAApC,KAA8C,CAArD;AACD;AALO;AArBL,GAFI;AA+BX;AACA;AACA;AACAU,EAAAA,QAAQ,EAAE;AACRC,IAAAA,YADQ,0BACQ;AACd,oDACe,KAAKJ,QADpB,GACiC,IADjC;AAGD;AALO,GAlCC;AAyCXK,EAAAA,OAzCW,qBAyCF;AACP,SAAKC,YAAL;AACA,SAAKC,aAAL;AACD,GA5CU;AA6CXC,EAAAA,OAAO,EAAC;AACNF,IAAAA,YADM,0BACQ;AAAA;;AACZ,WAAKG,SAAL,CAAe,YAAM;AACnB,QAAA,KAAI,CAACC,KAAL,CAAWC,IAAX,CAAgBC,KAAhB,CAAsBC,MAAtB,aACK,KAAI,CAACH,KAAL,CAAWI,KAAX,CAAiBC,qBAAjB,GAAyCF,MAD9C;AAED,OAHD;AAID,KANK;AAONN,IAAAA,aAPM,2BAOW;AAAA;;AACf,UAAI,KAAKpB,SAAT,EAAoB;AAClB6B,QAAAA,UAAU,CAAC,YAAM;AACf,UAAA,MAAI,CAACC,KAAL;AACD,SAFS,EAEP,KAAK9B,SAAL,GAAiB,IAFV,CAAV;AAGD;AACF,KAbK;AAcN8B,IAAAA,KAdM,mBAcC;AACL,WAAKC,GAAL,CAASC,MAAT,GADK,CACa;;AAClB,WAAKC,KAAL,CAAW,OAAX;AACA,WAAKC,QAAL,GAHK,CAGW;AACjB,KAlBK;AAmBNC,IAAAA,YAnBM,0BAmBQ;AACZ,WAAKL,KAAL;;AACA,UAAG,KAAKvB,WAAL,IAAoB,OAAO,KAAKA,WAAL,CAAiBG,QAAxB,KAAqC,UAA5D,EAAuE;AACrE,aAAKH,WAAL,CAAiBG,QAAjB,GADqE,CACzC;AAC7B;AACF;AAxBK;AA7CG,CAAf","sourcesContent":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\r\n// import { relative } from 'path';\r\n  //构造组件的选项\r\nexport default {\r\n    name: 'GuluToast',\r\n    props: {\r\n      autoClose: {\r\n        type: [Boolean, Number],\r\n        default: 10,\r\n        validator (value) {\r\n          return value === false || typeof value === 'number'\r\n        }\r\n      },\r\n      closeButton:{\r\n        type: Object, //对象的值只能用函数return,这是组件的复用性问题\r\n        default(){\r\n          return {\r\n          text: '关闭',\r\n          callback: undefined,\r\n          }\r\n        }\r\n      },\r\n      enableHtml: {\r\n        type: Boolean,\r\n        default: false\r\n      },\r\n      position: {\r\n        type: String,\r\n        default: 'top',\r\n        validator (value) {\r\n          return ['top', 'bottom', 'middle'].indexOf(value) >= 0\r\n        }\r\n      }\r\n    }, \r\n    // created(){\r\n    //   console.log(this.closeButton)\r\n    // },测试debug用的\r\n    computed: {\r\n      toastClasses () {\r\n        return {\r\n          [`position-${this.position}`]: true\r\n        }\r\n      }\r\n    },\r\n    mounted(){\r\n      this.updateStyles()\r\n      this.execAutoClose()\r\n    },\r\n    methods:{\r\n      updateStyles(){\r\n        this.$nextTick(() => {\r\n          this.$refs.line.style.height =\r\n            `${this.$refs.toast.getBoundingClientRect().height}px`\r\n        })\r\n      },\r\n      execAutoClose () {\r\n        if (this.autoClose) {\r\n          setTimeout(() => {\r\n            this.close()\r\n          }, this.autoClose * 1000)\r\n        }\r\n      },\r\n      close(){\r\n        this.$el.remove() //元素移除\r\n        this.$emit('close')\r\n        this.$destroy() //组件自毁\r\n      },\r\n      onClickClose(){\r\n        this.close()\r\n        if(this.closeButton && typeof this.closeButton.callback === 'function'){\r\n          this.closeButton.callback() //this === toast 实例\r\n        }\r\n      }\r\n    }\r\n  }\r\n"]}]}